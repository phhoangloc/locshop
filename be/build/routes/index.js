"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ApiRouter = void 0;
const express_1 = require("express");
const userRoutes_1 = require("./userRoutes");
const adminRoutes_1 = require("./adminRoutes");
const IController_1 = require("../controller/IController");
const middleware_1 = require("../middleware");
exports.ApiRouter = (0, express_1.Router)();
const iUserController = new IController_1.IUserController();
const iProductController = new IController_1.IProductController();
const iCategoryController = new IController_1.ICategoryController();
const iBlogController = new IController_1.IBlogController();
const userMiddleWare = new middleware_1.middleWare("user");
const adminMiddleWare = new middleware_1.middleWare("admin");
exports.ApiRouter.use("/user", userMiddleWare.checkPosition, userRoutes_1.userRouter);
exports.ApiRouter.use("/admin", adminMiddleWare.checkPosition, adminRoutes_1.adminRouter);
exports.ApiRouter.get("/check", iUserController.checkUser);
exports.ApiRouter.post("/signup", iUserController.createUser);
exports.ApiRouter.get("/active", iUserController.active);
exports.ApiRouter.post("/login", iUserController.login);
exports.ApiRouter.post("/logout", iUserController.logout);
exports.ApiRouter.get("/product", iProductController.find);
exports.ApiRouter.get("/product/:id", iProductController.findProduct);
exports.ApiRouter.get("/category", iCategoryController.find);
exports.ApiRouter.get("/category/:id", iCategoryController.findCategory);
exports.ApiRouter.get("/blog", iBlogController.find);
exports.ApiRouter.get("/blog/:id", iBlogController.findBlog);
exports.ApiRouter.get("/", (req, res) => {
    res.json("hello api");
});
//# sourceMappingURL=index.js.map